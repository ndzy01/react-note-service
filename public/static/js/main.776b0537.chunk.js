(this["webpackJsonpreact-bootstrap-t"]=this["webpackJsonpreact-bootstrap-t"]||[]).push([[0],{40:function(e,t,a){e.exports=a(70)},46:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(16),l=a.n(c),r=(a(45),a(46),a(5)),i=a(35),u=a(13),s=a(73),m=a(77),d=a(72),f=a(78),h=a(74),p=a(12),b=a(4),g=a(76),E=a(32),v="http://www.ndzy01.com:3868/",y="http://www.ndzy01.com:3866/upload",O=a.n(E).a.create({baseURL:v,timeout:6e4});O.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),O.interceptors.response.use((function(e){var t=e.data;return 0===t.code?e:400===t.code?(alert("\u7f16\u8f91\u5931\u8d25\uff0c\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a\uff01"),Promise.reject("\u7f16\u8f91\u5931\u8d25\uff01")):500===t.code?(alert("\u670d\u52a1\u5668\u51fa\u9519\uff01"),Promise.reject("\u670d\u52a1\u5668\u51fa\u9519\uff01")):e}),(function(e){return alert("\u7f51\u7edc\u9519\u8bef\uff01"),Promise.reject(e)}));var j=O,x=function(e,t,a){return j(a?{url:e,method:t,data:a}:{url:e,method:"GET"})},C=Object(b.b)();function k(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){x("/mongo/note/all").then((function(e){c(e.data.data)}))}),[]),o.a.createElement("div",null,a.map((function(e){return o.a.createElement(g.a,{style:{minWidth:"18rem"},key:e.noteId},o.a.createElement(g.a.Body,null,o.a.createElement(g.a.Title,null,e.title,o.a.createElement(m.a,{variant:"light",style:{marginLeft:"20px"},onClick:function(){return C.push({pathname:"/show/"+e.noteId})}},o.a.createElement(p.b,{color:"skyBlue",size:16})),o.a.createElement(m.a,{variant:"light",style:{marginLeft:"20px"},onClick:function(){return C.push({pathname:"/edit/"+e.noteId})}},o.a.createElement(p.a,{color:"skyBlue",size:16})),o.a.createElement(m.a,{variant:"light",style:{marginLeft:"20px"},onClick:function(){x("/mongo/note/delNote","POST",{id:e.noteId}).then((function(e){x("/mongo/note/all").then((function(e){c(e.data.data)})),alert("\u5df2\u5220\u9664\uff01")}))}},o.a.createElement(p.f,{color:"red",size:16}))),o.a.createElement(g.a.Text,null,e.cTime)))})))}var S=a(75),w=a(14),T=Object(b.b)();function I(e){var t=Object(n.useState)(""),a=Object(r.a)(t,2),c=a[0],l=a[1],i=Object(n.useRef)();return o.a.createElement("div",{className:"title-input"},o.a.createElement(d.a,{className:"mb-3"},o.a.createElement(d.a.Prepend,null,o.a.createElement(d.a.Text,{id:"basic-addon2"},"\u6807\u9898")),o.a.createElement(f.a,{ref:i,placeholder:"\u8bf7\u8f93\u5165","aria-label":"\u8bf7\u8f93\u5165","aria-describedby":"basic-addon2",name:"title",value:c,onChange:function(){l(i.current.value),e.onChange(i.current.value)}})))}function N(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useState)(""),c=Object(r.a)(a,2),l=c[0],i=c[1],u=Object(n.useState)(""),s=Object(r.a)(u,2),d=s[0],f=s[1],h=Object(n.useState)(!1),p=Object(r.a)(h,2),b=p[0],g=p[1];return Object(n.useEffect)((function(){var a=new w(e.current,t.current);window.innerWidth<500?a.customConfig.menus=["head","bold","italic","underline","strikeThrough","list","justify","quote","image"]:a.customConfig.menus=["head","bold","fontSize","fontName","italic","underline","strikeThrough","link","list","justify","quote","image","table","code","undo","redo"],a.customConfig.onchange=function(e){f(a.txt.html())},a.customConfig.uploadImgShowBase64=!0,a.customConfig.pasteFilterStyle=!1,a.customConfig.pasteIgnoreImg=!0,a.customConfig.uploadFileName="file",a.customConfig.uploadImgServer=y,a.customConfig.uploadImgMaxLength=5,a.customConfig.uploadImgHooks={customInsert:function(e,t,a){e(t.data.url)}},a.create()}),[]),o.a.createElement("div",{className:"add",style:{paddingTop:"10px"}},o.a.createElement(S.a,{style:b?{display:"block"}:{display:"none"},onClose:function(){return g(!1)},show:b,delay:2e3,autohide:!0},o.a.createElement(S.a.Header,null,o.a.createElement("strong",{className:"mr-auto"},"\u63d0\u793a")),o.a.createElement(S.a.Body,null,o.a.createElement("span",{style:{color:"red"}},"\u8bf7\u8f93\u5165\u6807\u9898"))),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(I,{onChange:function(e){return i(e)}}),o.a.createElement(m.a,{style:{marginLeft:"10px"},onClick:function(){""===l?g(!0):x("/mongo/note/save","POST",{title:l,content:d}).then((function(e){alert("\u5df2\u6210\u529f\u6dfb\u52a0\uff01"),T.push({pathname:"/"})}))}},"\u63d0\u4ea4")),o.a.createElement("div",{className:"text-area"},o.a.createElement("div",{ref:e,style:{backgroundColor:"#f1f1f1",border:"1px solid #ccc"},className:"editorElem-menu"}),o.a.createElement("div",{style:{padding:"0 10px",height:"70vh",border:"1px solid #ccc",borderTop:"none"},ref:t,className:"editorElem-body"})))}function B(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),c=Object(n.useState)(""),l=Object(r.a)(c,2),i=l[0],u=l[1],s=Object(n.useState)(""),m=Object(r.a)(s,2),d=m[0],f=m[1];return Object(n.useEffect)((function(){x("/mongo/note/getNote","POST",{id:e.location.pathname.substring(e.location.pathname.lastIndexOf("/")+1)}).then((function(e){var n=new w(t.current,a.current);n.customConfig.menus=[],n.create(),n.txt.html(e.data.data.content),u(e.data.data.title),f(e.data.data.mTime)}))}),[e]),o.a.createElement("div",null,o.a.createElement("h1",{style:{padding:"10px"}},i),o.a.createElement("p",null,o.a.createElement("span",null,"\u6700\u540e\u4fee\u6539\u65f6\u95f4:",d)),o.a.createElement("div",{className:"text-area"},o.a.createElement("div",{ref:t,style:{display:"none"},className:"editorElem-menu"}),o.a.createElement("div",{ref:a,style:{paddingLeft:"10px",height:"80vh"},className:"editorElem-body"})))}var P=Object(b.b)();function z(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),c=Object(n.useRef)(),l=Object(n.useState)(""),i=Object(r.a)(l,2),u=i[0],s=i[1],h=Object(n.useState)(""),p=Object(r.a)(h,2),b=p[0],g=p[1],E=Object(n.useState)(""),v=Object(r.a)(E,2),O=v[0],j=v[1],C=Object(n.useState)(!1),k=Object(r.a)(C,2),T=k[0],I=k[1];return Object(n.useEffect)((function(){x("/mongo/note/getNote","POST",{id:e.location.pathname.substring(e.location.pathname.lastIndexOf("/")+1)}).then((function(e){var n=new w(t.current,a.current);window.innerWidth<500?n.customConfig.menus=["head","bold","italic","underline","strikeThrough","list","justify","quote","image"]:n.customConfig.menus=["head","bold","fontSize","fontName","italic","underline","strikeThrough","link","list","justify","quote","image","table","code","undo","redo"],n.customConfig.onchange=function(e){j(n.txt.html())},n.customConfig.uploadImgShowBase64=!0,n.customConfig.pasteFilterStyle=!1,n.customConfig.pasteIgnoreImg=!0,n.customConfig.uploadFileName="file",n.customConfig.uploadImgServer=y,n.customConfig.uploadImgMaxLength=5,n.customConfig.uploadImgHooks={customInsert:function(e,t,a){e(t.data.url)}},n.create(),n.txt.html(e.data.data.content),g(e.data.data.title),s(e.data.data.noteId)}))}),[e]),o.a.createElement("div",{className:"add",style:{paddingTop:"10px"}},o.a.createElement(S.a,{style:T?{display:"block"}:{display:"none"},onClose:function(){return I(!1)},show:T,delay:2e3,autohide:!0},o.a.createElement(S.a.Header,null,o.a.createElement("strong",{className:"mr-auto"},"\u63d0\u793a")),o.a.createElement(S.a.Body,null,o.a.createElement("span",{style:{color:"red"}},"\u8bf7\u8f93\u5165\u6807\u9898"))),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",null,o.a.createElement(d.a,{className:"mb-3"},o.a.createElement(d.a.Prepend,null,o.a.createElement(d.a.Text,{id:"basic-addon2"},"\u6807\u9898")),o.a.createElement(f.a,{ref:c,placeholder:"\u8bf7\u8f93\u5165","aria-label":"\u8bf7\u8f93\u5165","aria-describedby":"basic-addon2",name:"title",value:b,onChange:function(){g(c.current.value)}}))),o.a.createElement(m.a,{style:{marginLeft:"10px"},onClick:function(){""===b?I(!0):x("/mongo/note/edit","POST",{noteId:u,title:b,content:O}).then((function(e){alert("\u7f16\u8f91\u6210\u529f\uff01"),P.push({pathname:"/"})}))}},"\u63d0\u4ea4")),o.a.createElement("div",{className:"text-area"},o.a.createElement("div",{ref:t,style:{backgroundColor:"#f1f1f1",border:"1px solid #ccc"},className:"editorElem-menu"}),o.a.createElement("div",{style:{padding:"0 10px",height:"70vh",border:"1px solid #ccc",borderTop:"none"},ref:a,className:"editorElem-body"})))}var L=Object(b.b)();function R(){var e=Object(n.useRef)(),t=Object(n.useState)([]),a=Object(r.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),u=Object(r.a)(i,2),s=u[0],h=u[1];return Object(n.useEffect)((function(){""!==s&&x("/mongo/note/search","POST",{content:s}).then((function(e){l(e.data.data)}))}),[s]),o.a.createElement("div",null,o.a.createElement(d.a,{className:"mb-3"},o.a.createElement(d.a.Prepend,null,o.a.createElement(d.a.Text,{id:"basic-addon2"},"\u641c\u7d22\u6761\u4ef6")),o.a.createElement(f.a,{ref:e,placeholder:"\u8bf7\u8f93\u5165","aria-label":"\u8bf7\u8f93\u5165","aria-describedby":"basic-addon2",name:"title",value:s,onChange:function(){h(e.current.value)}})),c.map((function(e){return o.a.createElement(g.a,{style:{minWidth:"18rem"},key:e.noteId},o.a.createElement(g.a.Body,null,o.a.createElement(g.a.Title,null,e.title,o.a.createElement(m.a,{variant:"light",style:{marginLeft:"20px"},onClick:function(){return L.push({pathname:"/show/"+e.noteId})}},o.a.createElement(p.b,{color:"skyBlue",size:16})),o.a.createElement(m.a,{variant:"light",style:{marginLeft:"20px"},onClick:function(){return L.push({pathname:"/edit/"+e.noteId})}},o.a.createElement(p.a,{color:"skyBlue",size:16})),o.a.createElement(m.a,{variant:"light",style:{marginLeft:"20px"},onClick:function(){x("/mongo/note/delNote","POST",{id:e.noteId}).then((function(e){x("/mongo/note/search","POST",{content:s}).then((function(e){l(e.data.data)})),alert("\u5df2\u5220\u9664\uff01")}))}},o.a.createElement(p.f,{color:"red",size:16}))),o.a.createElement(g.a.Text,null,e.cTime)))})))}var W=Object(b.b)();var q=function(){var e=Object(n.useRef)(),t=Object(n.useState)(""),a=Object(r.a)(t,2),c=a[0],l=a[1],b=Object(n.useState)(!1),g=Object(r.a)(b,2),E=g[0],v=g[1],y=o.a.createElement("div",null,o.a.createElement(s.a,{"aria-label":"Basic example"},o.a.createElement(m.a,{variant:"light",onClick:function(){return W.push("/")}}," ",o.a.createElement(p.c,{color:"skyBlue",size:32})),o.a.createElement(m.a,{variant:"light",onClick:function(){return W.push("/add")}}," ",o.a.createElement(p.d,{color:"skyBlue",size:32})),o.a.createElement(m.a,{variant:"light",onClick:function(){return W.push("/search")}}," ",o.a.createElement(p.e,{color:"royalblue",size:32}))),o.a.createElement("p",null),o.a.createElement(i.a,null,o.a.createElement(u.a,{exact:!0,path:"/",component:k}),o.a.createElement(u.a,{path:"/add",component:N}),o.a.createElement(u.a,{path:"/show",component:B}),o.a.createElement(u.a,{path:"/edit",component:z}),o.a.createElement(u.a,{path:"/search",component:R}))),O=o.a.createElement("div",null,o.a.createElement(d.a,{className:"mb-3",style:{maxWidth:"80vw",margin:"200px auto"}},o.a.createElement(f.a,{ref:e,placeholder:"\u8bf7\u8f93\u5165","aria-label":"\u8bf7\u8f93\u5165","aria-describedby":"basic-addon2",name:"title",value:c,onChange:function(){l(e.current.value)}}),o.a.createElement(d.a.Append,{onClick:function(){return v("ndzy@2020"===c)}},o.a.createElement(d.a.Text,{id:"basic-addon2"},"\u786e\u8ba4"))));return o.a.createElement(h.a,{fluid:!0,style:{padding:"10px"}},E?y:O)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.776b0537.chunk.js.map